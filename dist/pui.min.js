/*
 * pui 0.0.1
 * A simple ui framework based on Jquery
 *
 * http://www.paipai.com
 *
 * Copyright 2014, hugohua
 *
 * Licensed under MIT
 *
 * Released on: May 11, 2014
*/
!function(a,b){if(!a.Pui){var c=c||{version:"@version"};c.utils=c.utils||{};var d=0,e=[].slice;c.widget=function(a,d,e){var f,g,h,i=a.split(".")[0],j={};return a=a.split(".")[1],f=i+"-"+a,e||(e=d,d=c.Base),b.expr[":"][f.toLowerCase()]=function(a){return!!b.data(a,f)},c[i]=c[i]||{},h=c[i][a]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new h(a,b)},h.version=e.version,g=new d,b.each(e,function(a,c){return b.isFunction(c)?void(j[a]=function(){var b=function(){return d.prototype[a].apply(this,arguments)},e=function(b){return d.prototype[a].apply(this,b)};return function(){var a,d=this._super,f=this._superApply;return this._super=b,this._superApply=e,a=c.apply(this,arguments),this._super=d,this._superApply=f,a}}()):void(j[a]=c)}),h.prototype=b.extend(!0,g,{namespace:i,widgetName:a,widgetFullName:f,constructor:h,widgetEventPrefix:h.prototype.widgetEventPrefix||a},j),c.bridge(a,h),h},c.Base=function(){},c.Base.prototype={_createWidget:function(a,c){this.$el=b(a),this.uuid=d++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=b.extend(!0,{},this.options,this.$el.data(),c),b.data(this.$el[0],this.widgetFullName,this),this.bindings=b(),this._create(),this._trigger("create"),this._init()},_create:b.noop,_init:b.noop,_destroy:b.noop,widget:function(){return this.$el},option:function(a,c){var d,e,f,g=a;if(0===arguments.length)return b.extend(!0,{},this.options);if("string"==typeof a)if(g={},d=a.split("."),a=d.shift(),d.length){for(e=g[a]=b.extend(!0,{},this.options[a]),f=0;f<d.length-1;f++)e[d[f]]=e[d[f]]||{},e=e[d[f]];if(a=d.pop(),1===arguments.length)return void 0===e[a]?null:e[a];e[a]=c}else{if(1===arguments.length)return void 0===this.options[a]?null:this.options[a];g[a]=c}return this._setOptions(g),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},destroy:function(){this._destroy(),this.$el.unbind(this.eventNamespace).removeData(this.widgetFullName),this.bindings.unbind(this.eventNamespace)},_trigger:function(a,c,d){var e,f,g=this.options[a];if(d=d||{},c=b.Event(c),c.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase(),c.target=this.$el[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.$el.trigger(c,d),!(b.isFunction(g)&&g.apply(this.$el[0],[c].concat(d))===!1||c.isDefaultPrevented())},_on:function(a,c,d){var e,f=this;"boolean"!=typeof a&&(d=c,c=a,a=!1),d?(c=e=b(c),this.bindings=this.bindings.add(c)):(d=c,c=this.$el,e=this.widget()),b.each(d,function(d,g){function h(){return a||f.options.disabled!==!0?("string"==typeof g?f[g]:g).apply(f,arguments):void 0}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||b.guid++);var i=d.match(/^([\w:-]*)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},tpl2html:function(){var a=this.template;console.info(a,"tpl")}},c.bridge=function(a,c){var d=c.prototype.widgetFullName||a;b.fn[a]=function(f){var g="string"===b.type(f),h=e.call(arguments,1),i=this;return f=!g&&h.length?b.extend.apply(null,[!0,f].concat(h)):f,this.each(g?function(){var c,e=b.data(this,d);return"instance"===f?(i=e,!1):b.isFunction(e[f])&&"_"!==f.charAt(0)?(c=e[f].apply(e,h),c!==e&&void 0!==c?(i=c&&c.jquery?i.pushStack(c.get()):c,!1):void 0):b.error(f+"' 是 "+a+" 的私有方法，不可直接调用")}:function(){var a=b.data(this,d);a?a._init&&a._init():b.data(this,d,new c(this,f))}),i}},"function"==typeof define?define(function(a,b,d){d.exports=c}):this.Pui=c}}(this,jQuery);